{"version":3,"sources":["services/personService.js","components/PersonList.js","components/PersonForm.js","components/PersonFilter.js","components/Notification.js","App.js","index.js"],"names":["baseUrl","axios","get","then","response","data","newPerson","post","id","newObject","put","delete","PersonList","persons","filter","deletePerson","Person","person","deleteHandler","name","number","onClick","toLowerCase","includes","map","key","PersonForm","addPerson","formData","onSubmit","value","newName","onChange","event","setNewName","target","newNumber","setNewNumber","type","PersonFilter","setFilter","Notification","notification","notificationStyle","background","fontSize","borderStyle","borderRadius","padding","marginBottom","style","color","message","App","useState","setPersons","setNotification","useEffect","personService","fetchedPersons","showError","setTimeout","showInfo","preventDefault","existingPerson","find","window","confirm","updatedPerson","updatedPersons","catch","error","console","log","returnedPerson","concat","errors","join","p","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.342475e0.chunk.js","sourcesContent":["import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n}\n\nconst create = (newPerson) => {\n    const request = axios.post(baseUrl, newPerson)\n    return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\n    return request.then(response => response.data)\n}\n\nconst remove = (id) => {\n    const request = axios.delete(`${baseUrl}/${id}`)\n    return request.then(response => response.data)\n}\n\nexport default { getAll, create, update, remove }","import React from 'react'\n\nconst PersonList = ({persons, filter, deletePerson}) => {\n\n    const rows = () =>\n        persons.filter((person) => person.name.toLowerCase().includes(filter.toLowerCase()))\n            .map(person => <Person key={person.id} person={person} deleteHandler={() => deletePerson(person.id, person.name)}/>)\n\n\n    const Person = ({ person, deleteHandler }) => {\n        return (\n        <li>{person.name} {person.number} <button onClick={deleteHandler}>delete</button></li>\n        )\n    }\n\n    return (\n        < div >\n            <ul>\n                {rows()}\n            </ul>\n        </div >\n    )\n}\n\nexport default PersonList","import React from 'react'\n\nconst PersonForm = ({addPerson, formData}) => {\n\n    return (\n        <form onSubmit={addPerson}>\n            <div>\n                name: <input value={formData.newName} onChange={(event) => formData.setNewName(event.target.value)} />\n            </div>\n            <div>\n                number: <input value={formData.newNumber} onChange={(event) => formData.setNewNumber(event.target.value)} />\n            </div>\n            <div>\n                <button type=\"submit\">add</button>\n            </div>\n        </form>\n    )\n}\n\nexport default PersonForm","import React from 'react'\n\nconst PersonFilter = ({filter, setFilter}) => {\n\n    return (\n        <div>\n            filter shown persons by: <input value={filter} onChange={(event) => setFilter(event.target.value)} />\n        </div>\n    )\n}\n\nexport default PersonFilter","import React from 'react'\n\nconst Notification = ({ notification }) => {\n\n  const notificationStyle = {\n    background: 'lightgrey',\n    fontSize: 20,\n    borderStyle: 'solid',\n    borderRadius: 5,\n    padding: 10,\n    marginBottom: 10\n  }\n\n\n  const Error = ({ notification }) => {\n    return (\n      <div style={{color: 'red'}}>\n        {notification.message}\n      </div>\n    )\n  }\n\n  const Info = ({ notification }) => {\n    return (\n      <div style={{color: 'green'}}>\n        {notification.message}\n      </div>\n    )\n  }\n\n  if (notification === null) {\n    return null\n  }\n\n  if (notification.type === 'error') {\n    return (\n      <div style={notificationStyle}>\n        <Error notification={notification}/>\n      </div>\n    )\n  }\n\n  if (notification.type === 'info') {\n    return (\n      <div style={notificationStyle}>\n        <Info notification={notification}/>\n      </div>\n    )\n  }\n\n  return (\n    <div style={notificationStyle}>\n      {notification.message}\n    </div>\n  )\n\n\n}\n\nexport default Notification","import React, { useState, useEffect } from 'react'\nimport personService from './services/personService'\nimport PersonList from './components/PersonList'\nimport PersonForm from './components/PersonForm'\nimport PersonFilter from './components/PersonFilter'\nimport Notification from './components/Notification'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [filter, setFilter] = useState('')\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [notification, setNotification] = useState(null)\n\n  const formData = {\n    newName,\n    setNewName,\n    newNumber,\n    setNewNumber\n  }\n\n  const hook = () => {\n    personService\n      .getAll()\n      .then(fetchedPersons => {\n        setPersons(fetchedPersons)\n      })\n  }\n\n  useEffect(hook, [])\n\n  const addPerson = (event) => {\n    event.preventDefault()\n\n    const existingPerson = persons.find(person => person.name === newName);\n\n    if (existingPerson &&\n      window.confirm(`${newName} is already added to the phonebook, do you want to update ${newName}'s phone number?`)) {\n        const id = existingPerson.id\n        const updatedPerson = {\n          name: newName,\n          number: newNumber,\n          id: id\n        }\n\n        personService\n          .update(id, updatedPerson)\n          .then(response => {\n            const updatedPersons = persons.map(person => person.id !== id ? person : updatedPerson)\n            setPersons(updatedPersons)\n            setNewName('')\n            setNewNumber('')\n            showInfo(`${updatedPerson.name}'s number has been updated`)\n          })\n          .catch(error => {\n            console.log(error.response)\n            // showError(error.response.data)\n          })\n    }\n    else {\n      const newPerson = {\n        name: newName,\n        number: newNumber\n      }\n      console.log(newPerson)\n      personService\n        .create(newPerson)\n        .then(returnedPerson => {\n          setPersons(persons.concat(returnedPerson))\n          setNewName('')\n          setNewNumber('')\n          showInfo(`${returnedPerson.name} has been added to the Phonebook`)\n        })\n        .catch(error => {\n          const message = error.response.data.errors.join('\\n')\n          showError(message)\n        })\n    }\n  }\n\n  const deletePerson = (id, name) => {\n    if (window.confirm(`Delete ${name}?`)) {\n      personService\n        .remove(id)\n        .then(returnedPerson => {\n          setPersons(persons.filter(p => p.id !== id))\n          showInfo(`${name} has been removed from the Phonebook`)\n        })\n        .catch(error => {\n          console.log(error.response.data)\n          // showError(error.response.data)\n        })\n    }\n\n  }\n\n  const showError = (message) => {\n    setNotification({ message: message, type: 'error' })\n    setTimeout(() => {\n      setNotification(null)\n    }, 5000)\n  }\n\n  const showInfo = (message) => {\n    setNotification({ message: message, type: 'info' })\n    setTimeout(() => {\n      setNotification(null)\n    }, 5000)\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification notification={notification} />\n      <h3>PersonFilter</h3>\n      <PersonFilter value={filter} setFilter={setFilter} />\n      <h3>Add new</h3>\n      <PersonForm addPerson={addPerson} formData={formData} />\n      <h3>Numbers</h3>\n      <PersonList persons={persons} filter={filter} deletePerson={deletePerson} />\n    </div>\n  )\n\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}